<mat-dialog-content class="mat-typography form-container">
  <div class="dialog-header">
    <h3 class="dialog-title">Ajouter un nouveau cours</h3>
  </div>
  <form [formGroup]="courseForm" (ngSubmit)="addCourse()">
    <!-- Nom du cours -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Nom du cours</mat-label>
      <input matInput placeholder="Entrez le nom du cours" formControlName="nomcour" required />
      <mat-icon matPrefix>school</mat-icon>
      <mat-error *ngIf="nomcour?.invalid && nomcour?.touched">Le nom du cours est requis.</mat-error>
    </mat-form-field>

    <!-- Fichier -->
    <div class="file-upload">
      <label for="fileInput">Fichier</label>
      <input type="file" id="fileInput" (change)="onFileSelected($event)" required />
      <mat-icon matPrefix>attach_file</mat-icon>
      <mat-error *ngIf="courseForm.get('fichier')?.invalid && courseForm.get('fichier')?.touched">Le fichier est requis.</mat-error>
    </div>

    <!-- Email -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
      <input matInput placeholder="Entrez l'email" formControlName="email" required />
      <mat-icon matPrefix>email</mat-icon>
      <mat-error *ngIf="email?.invalid && email?.touched">
        <span *ngIf="email?.errors?.['required']">L'email est requis.</span>
        <span *ngIf="email?.errors?.['email']">L'email n'est pas valide.</span>
      </mat-error>
    </mat-form-field>

    <!-- Classe -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Classe</mat-label>
      <mat-select formControlName="nomclasse" required>
        <mat-option *ngFor="let classe of classes" [value]="classe.nomclasse">{{ classe.nomclasse }}</mat-option>
      </mat-select>
      <mat-icon matPrefix>school</mat-icon>
      <mat-error *ngIf="nomclasse?.invalid && nomclasse?.touched">La classe est requise.</mat-error>
    </mat-form-field>

    <!-- Matiere -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Matiéres</mat-label>
      <mat-select formControlName="nomMatiere" required>
        <mat-option *ngFor="let matiere of matieres" [value]="matiere.nom">{{ matiere.nom }}</mat-option>
      </mat-select>
      <mat-icon matPrefix>school</mat-icon>
      <mat-error *ngIf="nomMatiere?.invalid && nomMatiere?.touched">La matiére est requise.</mat-error> 
    </mat-form-field>

    <!-- Boutons -->
    <div class="button-container">
      <button mat-raised-button color="primary" type="submit" [disabled]="courseForm.invalid">Ajouter</button>
      <button mat-button color="warn" type="reset" (click)="courseForm.reset()">Réinitialiser</button>
    </div>
  </form>
</mat-dialog-content>
